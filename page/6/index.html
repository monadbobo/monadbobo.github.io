<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;default&quot;]"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>pagefault | 但行好事 莫問前程</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">pagefault</h1><a id="logo" href="/.">pagefault</a><p class="description">但行好事 莫問前程</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2011/01/21/start-up-process-analysis-of-nginx-(2).html">nginx的启动流程分析(二)</a></h1><div class="post-meta">2011-01-21</div><div class="post-content"><p>接上篇，这篇主要来看nginx的网络部分的初始化</p>
<p>首先是ngx_http_optimize_servers函数，这个函数是在ngx_http_block中被调用的，它的主要功能就是创建listening结构，然后初始化。这里ngx_listening_t表示一个正在监听的句柄以及它的上下文。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">static ngx_int_t</span><br><span class="line">  </span><br><span class="line">ngx_http_optimize_servers(ngx_conf_t \*cf, ngx_http_core_main_conf_t \*cmcf,</span><br><span class="line">      </span><br><span class="line">ngx_array_t *ports)</span><br><span class="line">  </span><br><span class="line">&#123;</span><br><span class="line">      </span><br><span class="line">ngx_uint_t p, a;</span><br><span class="line">      </span><br><span class="line">ngx_http_conf_port_t *port;</span><br><span class="line">      </span><br><span class="line">ngx_http_conf_addr_t *addr;</span><br><span class="line"></span><br><span class="line">if (ports == NULL) &#123;</span><br><span class="line">          </span><br><span class="line">return NGX_OK;</span><br><span class="line">      </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">port = ports-&gt;elts;</span><br><span class="line">      </span><br><span class="line">for (p = 0; p &lt; ports-&gt;nelts; p++) &#123;</span><br><span class="line">  </span><br><span class="line">&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;..</span><br><span class="line">  </span><br><span class="line">//初始化listen结构</span><br><span class="line">          </span><br><span class="line">if (ngx_http_init_listening(cf, &amp;port[p]) != NGX_OK) &#123;</span><br><span class="line">              </span><br><span class="line">return NGX_ERROR;</span><br><span class="line">          </span><br><span class="line">&#125;</span><br><span class="line">      </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return NGX_OK;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2011/01/21/start-up-process-analysis-of-nginx-(2).html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2011/01/06/start-up-process-analysis-of-nginx-(1).html">nginx的启动流程分析(一)</a></h1><div class="post-meta">2011-01-06</div><div class="post-content"><p>这篇我们会主要来分析配置文件相关的一些初始化，而在下一篇我们会详细分析http协议相关，以及socket的初始化信息。</p>
<p>nginx启动最重要的部分是在ngx_init_cycle中，我们接下来就会详细的分析这个函数，以及相关的函数.</p>
<p>下面就是ngx_init_cycle的流程图</p>
<p><a href="http://www.flickr.com/photos/67458145@N00/5329566594/" title="nginx_cycle by Minibobo, on Flickr" target="_blank" rel="noopener"><img src="http://farm6.static.flickr.com/5290/5329566594_388066c0b4.jpg" width="500" height="452" alt="nginx_cycle"></a></p></div><p class="readmore"><a href="/2011/01/06/start-up-process-analysis-of-nginx-(1).html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2010/12/31/goodbye-2010.html">再见2010</a></h1><div class="post-meta">2010-12-31</div><div class="post-content"><p>一晃眼，2010就过去了，又要开始整理这1年读的书，看的电影，听的歌了。</p>
<p>2010 读过的书，今年很惭愧，看的书太少了，明年会更加努力。今年觉得最好的两本是天朝的崩溃和罗马帝国衰亡史.今后会把更多的时间分配给读书。</p>
<p><img id="chartMonth" src="http://chart.apis.google.com/chart?chs=400x200&cht=bvs&chd=s:YYMYlAYAxMAl&chxt=y,x,x&chxl=0:|0|1|2|3|4|5|1:|1|2|3|4|5|6|7|8|9|10|11|12|2:|month&chxp=2,100&chf=c,lg,90,76A4FB,0.5,ffffff,0|bg,s,EFEFEF&chco=0000ff&chtt=20 books+you+added+in+year+2010|&#x4EC0;&#x4E48;divided+by+month"></p>
<div id="doubanlist"><br>  <table><br>    <tr><br>    </tr><br><br>    <tr><br>      <td><br>        <a title="HTTP" target="_blank" href="http://book.douban.com/subject/1440226/"><img border="0" src="http://img3.douban.com/spic/s4255750.jpg"></a><br>      </td><br><br>      <td><br>        <a title="Assembly Language Step-by-Step edition 3" target="_blank" href="http://book.douban.com/subject/3781682/"><img border="0" src="http://img3.douban.com/spic/s3825074.jpg"></a><br>      </td><br><br>      <td><br>        <a title="停滞的帝国:两个世界的撞击" target="_blank" href="http://book.douban.com/subject/2173201/"><img border="0" src="http://img5.douban.com/spic/s2900135.jpg"></a><br>      </td><br><br>      <td><br>        <a title="天朝的崩溃" target="_blank" href="http://book.douban.com/subject/1675478/"><img border="0" src="http://img3.douban.com/spic/s1681072.jpg"></a><br>      </td><br><br>      <td><br>        <a title="C 陷阱与缺陷" target="_blank" href="http://book.douban.com/subject/2778632/"><img border="0" src="http://img3.douban.com/spic/s2870233.jpg"></a><br>      </td><br><br>      <td><br>        <a title="深入理解LINUX内核(第三版 涵盖2.6版)" target="_blank" href="http://book.douban.com/subject/2287506/"><img border="0" src="http://img3.douban.com/spic/s2749490.jpg"></a><br>      </td><br>    </tr><br><br>    <tr><br>      <td><br>        <a title="独唱团（第一辑）" target="_blank" href="http://book.douban.com/subject/4886245/"><img border="0" src="http://img3.douban.com/spic/s4436571.jpg"></a><br>      </td><br><br>      <td><br>        <a title="罗马帝国衰亡史（第二卷）" target="_blank" href="http://book.douban.com/subject/3018351/"><img border="0" src="http://img3.douban.com/spic/s3118156.jpg"></a><br>      </td><br><br>      <td><br>        <a title="源泉" target="_blank" href="http://book.douban.com/subject/1431870/"><img border="0" src="http://img3.douban.com/spic/s1451416.jpg"></a><br>      </td><br><br>      <td><br>        <a title="实战Nginx：取代Apache的高性能Web服务器" target="_blank" href="http://book.douban.com/subject/4251875/"><img border="0" src="http://img3.douban.com/spic/s4149106.jpg"></a><br>      </td><br><br>      <td><br>        <a title="罗马帝国衰亡史（第一卷）" target="_blank" href="http://book.douban.com/subject/3018347/"><img border="0" src="http://img3.douban.com/spic/s3119972.jpg"></a><br>      </td><br><br>      <td><br>        <a title="软件随想录" target="_blank" href="http://book.douban.com/subject/4163938/"><img border="0" src="http://img3.douban.com/spic/s4073980.jpg"></a><br>      </td><br>    </tr><br><br>    <tr><br>      <td><br>        <a title="软件优化技术——IA-32平台的高性能手册（第2版）" target="_blank" href="http://book.douban.com/subject/2068755/"><img border="0" src="http://img3.douban.com/spic/s2522202.jpg"></a><br>      </td><br><br>      <td><br>        <a title="红色骑兵军" target="_blank" href="http://book.douban.com/subject/3902733/"><img border="0" src="http://img3.douban.com/spic/s3934830.jpg"></a><br>      </td><br><br>      <td><br>        <a title="自由的伦理" target="_blank" href="http://book.douban.com/subject/3237711/"><img border="0" src="http://img3.douban.com/spic/s3284559.jpg"></a><br>      </td><br><br>      <td><br>        <a title="计算机组成与设计：硬件/软件接口" target="_blank" href="http://book.douban.com/subject/2110638/"><img border="0" src="http://img3.douban.com/spic/s2506234.jpg"></a><br>      </td><br><br>      <td><br>        <a title="米格尔街" target="_blank" href="http://book.douban.com/subject/3902734/"><img border="0" src="http://img3.douban.com/spic/s3947258.jpg"></a><br>      </td><br><br>      <td><br>        <a title="TCP/IP Architecture, Design and Implementation in Linux" target="_blank" href="http://book.douban.com/subject/3397220/"><img border="0" src="http://img5.douban.com/spic/s3518315.jpg"></a><br>      </td><br>    </tr><br><br>    <tr><br>      <td><br>        <a title="中國近代史（下冊）" target="_blank" href="http://book.douban.com/subject/1476218/"><img border="0" src="http://img3.douban.com/spic/s1493866.jpg"></a><br>      </td><br><br>      <td><br>        <a title="中國近代史（上冊）" target="_blank" href="http://book.douban.com/subject/1476213/"><img border="0" src="http://img3.douban.com/spic/s1493864.jpg"></a><br>      </td><br>    </tr><br>  </table><br></div></div><p class="readmore"><a href="/2010/12/31/goodbye-2010.html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2010/12/20/implementation-of-slab-distributor-in-nginx.html">nginx中slab分配器的实现</a></h1><div class="post-meta">2010-12-20</div><div class="post-content"><p>nginx的slab分配器主要用于共享内存部分的内存分配，代码包含在core/slab.c和core/slab.h中。slab是针对小于1页的内存的fenpei 它的大体思想和jeff的那篇paper中描述的一致，因此可以先看看jeff的那篇关于slab的论文。有关于slab的优点也可以去看jeff的paper，这里就不描述了。</p>
<p>下面就是nginx的slab的内存图.</p>
<p><a href="http://www.flickr.com/photos/67458145@N00/5322876207/" title="slab in nginx by Minibobo, on Flickr" target="_blank" rel="noopener"><img src="http://farm6.static.flickr.com/5087/5322876207_701b0080d3_z.jpg" width="426" height="640" alt="slab in nginx"></a></p></div><p class="readmore"><a href="/2010/12/20/implementation-of-slab-distributor-in-nginx.html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2010/12/12/xps-characteristics-of-linux-kernel-network-protocol-stack.html">linux kernel 网络协议栈之xps特性详解</a></h1><div class="post-meta">2010-12-12</div><div class="post-content"><p><a href="http://lwn.net/Articles/416646/" target="_blank" rel="noopener">xps</a>全称是Transmit Packet Steering，是rfs/rps的作者Tom Herbert提交的又一个patch，预计会在2.6.37进入内核。</p></div><p class="readmore"><a href="/2010/12/12/xps-characteristics-of-linux-kernel-network-protocol-stack.html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2010/11/26/gro-(generic-receive-of-fload)-of-linux-kernel-network-protocol-stack.html">linux kernel 网络协议栈之GRO(Generic receive offload)</a></h1><div class="post-meta">2010-11-26</div><div class="post-content"><p>GRO(Generic receive offload)在内核2.6.29之后合并进去的，作者是一个华裔Herbert Xu ,GRO的简介可以看这里：</p>
<p><a href="http://lwn.net/Articles/358910/" target="_blank" rel="noopener">http://lwn.net/Articles/358910/</a></p>
<p>先来描述一下GRO的作用，GRO是针对网络接受包的处理的，并且只是针对NAPI类型的驱动，因此如果要支持GRO，不仅要内核支持，而且驱动也必须调用相应的借口，用ethtool -K gro on来设置，如果报错就说明网卡驱动本身就不支持GRO。</p>
<p>GRO类似tso，可是tso只支持发送数据包，这样你tcp层大的段会在网卡被切包，然后再传递给对端，而如果没有gro，则小的段会被一个个送到协议栈，有了gro之后，就会在接收端做一个反向的操作(想对于tso).也就是将tso切好的数据包组合成大包再传递给协议栈。</p>
<p>如果实现了GRO支持的驱动是这样子处理数据的，在NAPI的回调poll方法中读取数据包，然后调用GRO的接口napi_gro_receive或者napi_gro_frags来将数据包feed进协议栈。而具体GRO的工作就是在这两个函数中进行的，他们最终都会调用<strong>napi_gro_receive。下面就是napi_gro_receive，它最终会调用napi_skb_finish以及</strong>napi_gro_receive。</p></div><p class="readmore"><a href="/2010/11/26/gro-(generic-receive-of-fload)-of-linux-kernel-network-protocol-stack.html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2010/11/19/cubic-algorithm-for-linux-kernel-tcp-congestion-processing.html">linux kernel tcp拥塞处理之cubic算法</a></h1><div class="post-meta">2010-11-19</div><div class="post-content"><p>接上一篇(可以看我协议栈分析的那个pdf).这里我的内核版本是2.6.36.</p>
<p>这次主要来看一下内核拥塞控制算法cubic的实现，在linux kernel中实现了很多种拥塞控制算法，不过新的内核(2.6.19之后)默认是cubic(想得到当前内核使用的拥塞控制算法可以察看/proc/sys/net/ipv4/tcp_congestion_control这个值).下面是最新的redhat 6的拥塞控制算法(rh5还是bic算法):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">[root@rhel6 ~]# cat /proc/sys/net/ipv4/tcp_congestion_control</span><br><span class="line">  </span><br><span class="line">cubic</span><br></pre></td></tr></table></figure>
<p>这个算法的paper在这里：</p>
<p><a href="http://netsrv.csc.ncsu.edu/export/cubic_a_new_tcp_2008.pdf" target="_blank" rel="noopener">http://netsrv.csc.ncsu.edu/export/cubic_a_new_tcp_2008.pdf</a></p></div><p class="readmore"><a href="/2010/11/19/cubic-algorithm-for-linux-kernel-tcp-congestion-processing.html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2010/11/02/how-to-guarantee-the-atomicity-of-appnd-writing-in-linux-kernel.html">linux kernel中如何保证append写的原子性</a></h1><div class="post-meta">2010-11-02</div><div class="post-content"><p>先来描述一下，write系统调用的大体流程，首先内核会取得对应的文件偏移，然后调用vfs的write操作，而在vfs层的write操作的时候会调用对应文件系统的write方法，而在对应文件系统的write方法中aio_write方法，最终会调用底层驱动。这里有一个需要注意的就是内核在写文件的时候会加一把锁(有些设备不会加锁，比如块设备以及裸设备).这样也就是说一个文件只可能同时只有一个进程在写。而且快设备是不支持append写的。</p>
<p>而这里append的原子操作的实现很简单，由于每次写文件只可能是一个进程操作(计算文件偏移并不包含在锁里面)，而append操作是每次写到末尾(其他类型的写是先取得pos才进入临界区，而这个时间内有可能pos已经被其他进程改变，而append的pos的计算是包含在锁里面的),因此自然append就是原子的了.</p></div><p class="readmore"><a href="/2010/11/02/how-to-guarantee-the-atomicity-of-appnd-writing-in-linux-kernel.html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2010/10/20/nginx's-handling-of-static-file-cache.html">nginx对静态文件cache的处理</a></h1><div class="post-meta">2010-10-20</div><div class="post-content"><p>nginx中对静态文件进行了cache，对应的命令就是open_file_cache,open_file_cache_min_uses以及open_file_cache_valid。这次我就来分析下nginx如何对静态文件进行cache的。</p>
<p>要注意一个就是open_file_cache的 inactive表示文件多久不被访问就会从cache中删除.</p>
<p>首先来描述一下linux下是如何做的，因为这里nginx对于bsd版本有一个不同的做法，这是因为bsd中可以给kqueue监听文件改变的事件。而linux下，nginx并没有使用inotify，而是每次都会判断文件的st_ino来得到文件是否被修改，不过这样会有个缺点就是如果你是使用open，然后write来修改文件的话，文件其实是相同的，因此st_ino是相同的，此时nginx是无法知道的，因此修改的话，最好使用会先删除再覆盖的命令(比如cp)。</p>
<p>首先，nginx的cache只是cache句柄，因为静态文件的发送，一般来说，nginx都是尽量使用sendfile进行发送的，因此之需要cache句柄就够了。</p>
<p>所有的cache对象包含在两个数据结构里面，整个机制最关键的也是这两个东西，一个是红黑树，一个是一个队列，其中红黑树是为了方便查找(需要根据文件名迅速得到fd),而队列为了方便超时管理（按照读取顺序插入，在头的就是最近存取的文件)，由于所有的句柄的超时时间都是一样的，因此每次只需要判断最后几个元素就够了，因为这个超时不需要那么实时.</p>
<p>假设现在客户端请求是GET test.html HTTP/1.1 ,则nginx是这么处理的，如果test.html在cache中存在，则从cache中取得这个句柄，然后正常返回，如果test.html不存在，则是打开这个文件，然后插入到cache中。不过这里有很多细节都需要处理，比如超时，比如红黑树的插入等等，接下来，我们就对照着代码来看这些都是如何处理的。</p></div><p class="readmore"><a href="/2010/10/20/nginx's-handling-of-static-file-cache.html">阅读全文</a></p></div><div class="post"><h1 class="post-title"><a href="/2010/10/14/detailed-description-of-rfs-features-in-linux-kernel-2.6.35.html">linux kernel 2.6.35中RFS特性详解</a></h1><div class="post-meta">2010-10-14</div><div class="post-content"><p>前面我介绍过google对内核协议栈的patch，RPS,它主要是为了软中断的负载均衡，这次继续来介绍google 的对RPS的增强path RFS(receive flow steering),RPS是把软中断map到对应cpu，而这个时候还会有另外的性能影响，那就是如果应用程序所在的cpu和软中断处理的cpu不是同一个，此时对于cpu cache的影响会很大。 这里要注意，在kernel 的2.6.35中 这两个patch已经加入了。</p>
<p>ok,先来描述下它是怎么做的，其实这个补丁很简单，想对于rps来说就是添加了一个cpu的选择，也就是说我们需要根据应用程序的cpu来选择软中断需要被处理的cpu。这里做法是当调用recvmsg的时候，应用程序的cpu会被存储在一个hash table中，而索引是根据socket的rxhash进行计算的。而这个rxhash就是RPS中计算得出的那个skb的hash值.</p>
<p>可是这里会有一个问题，那就是当多个线程或者进程读取相同的socket的时候，此时就会导致cpu id不停的变化，从而导致大量的OOO的数据包(这是因为cpu id变化，导致下面软中断不停的切换到不同的cpu，此时就会导致大量的乱序的包).</p></div><p class="readmore"><a href="/2010/10/14/detailed-description-of-rfs-features-in-linux-kernel-2.6.35.html">阅读全文</a></p></div><nav class="page-navigator"><a class="extend prev" rel="prev" href="/page/5/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/">下一页</a></nav></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://yoursite.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/SPDY/">SPDY</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/SPDY/协议/">协议</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/erlang/">erlang</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/erlang/源码阅读/">源码阅读</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/kernel/">kernel</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/kernel/mac/">mac</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kernel/server/">server</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kernel/协议/">协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kernel/源码阅读/">源码阅读</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/lua/">lua</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/lua/源码阅读/">源码阅读</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/server/">server</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/server/源码阅读/">源码阅读</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/协议/">协议</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/语言规范/">语言规范</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/rocksdb/" style="font-size: 15px;">rocksdb</a> <a href="/tags/lua/" style="font-size: 15px;">lua</a> <a href="/tags/kernel/" style="font-size: 15px;">kernel</a> <a href="/tags/tcp-ip/" style="font-size: 15px;">tcp/ip</a> <a href="/tags/mac/" style="font-size: 15px;">mac</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/server/" style="font-size: 15px;">server</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/process/" style="font-size: 15px;">process</a> <a href="/tags/qemu/" style="font-size: 15px;">qemu</a> <a href="/tags/aio/" style="font-size: 15px;">aio</a> <a href="/tags/google/" style="font-size: 15px;">google</a> <a href="/tags/协议/" style="font-size: 15px;">协议</a> <a href="/tags/路由/" style="font-size: 15px;">路由</a> <a href="/tags/tcp/" style="font-size: 15px;">tcp</a> <a href="/tags/TFO/" style="font-size: 15px;">TFO</a> <a href="/tags/rfc/" style="font-size: 15px;">rfc</a> <a href="/tags/c/" style="font-size: 15px;">c</a> <a href="/tags/语言规范/" style="font-size: 15px;">语言规范</a> <a href="/tags/读书笔记/" style="font-size: 15px;">读书笔记</a> <a href="/tags/http/" style="font-size: 15px;">http</a> <a href="/tags/spdy/" style="font-size: 15px;">spdy</a> <a href="/tags/kenel/" style="font-size: 15px;">kenel</a> <a href="/tags/opensource/" style="font-size: 15px;">opensource</a> <a href="/tags/InnoDB/" style="font-size: 15px;">InnoDB</a> <a href="/tags/sever/" style="font-size: 15px;">sever</a> <a href="/tags/rfs/" style="font-size: 15px;">rfs</a> <a href="/tags/fs/" style="font-size: 15px;">fs</a> <a href="/tags/cache/" style="font-size: 15px;">cache</a> <a href="/tags/server，mm/" style="font-size: 15px;">server，mm</a> <a href="/tags/web-server/" style="font-size: 15px;">web server</a> <a href="/tags/tcp-cork/" style="font-size: 15px;">tcp_cork</a> <a href="/tags/服务器设计/" style="font-size: 15px;">服务器设计</a> <a href="/tags/congest/" style="font-size: 15px;">congest</a> <a href="/tags/keepalive/" style="font-size: 15px;">keepalive</a> <a href="/tags/pipeline/" style="font-size: 15px;">pipeline</a> <a href="/tags/epoll/" style="font-size: 15px;">epoll</a> <a href="/tags/erlang/" style="font-size: 15px;">erlang</a> <a href="/tags/mochiweb/" style="font-size: 15px;">mochiweb</a> <a href="/tags/network/" style="font-size: 15px;">network</a> <a href="/tags/loadbalance/" style="font-size: 15px;">loadbalance</a> <a href="/tags/glibc/" style="font-size: 15px;">glibc</a> <a href="/tags/systemcall/" style="font-size: 15px;">systemcall</a> <a href="/tags/心情/" style="font-size: 15px;">心情</a> <a href="/tags/gro/" style="font-size: 15px;">gro</a> <a href="/tags/gc/" style="font-size: 15px;">gc</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/04/17/design-and-implementation-of-linkbuf-in-innodb.html">InnoDB中LinkBuf设计与实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/17/innodb-tablespace-source-code-analysis.html">InnoDB tablespace源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/19/mysql-rocksdb.-data-reading-(ii).html">MySQL · RocksDB · 数据的读取(二)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/13/mysql-rocksdb.-data-reading-(i).html">MySQL · RocksDB · 数据的读取(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/27/mysql-rocksdb-level-compact-analysis.html">MySQL · RocksDB · Level Compact 分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/07/mysql-rocksdb-memtable-flush-analysis.html">MySQL · RocksDB · Memtable flush分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/08/writing-of-mysql.-rocksdb.-memtable.html">MySQL · RocksDB ·  MemTable的写入</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/04/implementation-of-mysql-rocksdb-writing-logic.html">MySQL · RocksDB ·  写入逻辑的实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/06/introduction-to-mysql-rocksdb-column-family.html">MySQL · RocksDB · Column Family介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/08/introduction-to-mysql.-rocksdb.-manifest-file.html">MySQL · RocksDB · MANIFEST文件介绍</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">pagefault.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>